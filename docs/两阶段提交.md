- ![两阶段提交](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3afe5fd4900248ca9be39a67a36297de~tplv-k3u1fbpfcp-watermark.awebp)
- Who
	- [[redo log]]
- Why
	- 保证redo log和binlog数据的安全一致性
	  不一致的场景
		- 先写redo log，crash后bin log备份恢复时少了一次更新，与当前数据不一致。
		- 先写bin log，crash后，由于redo log没写入，事务无效，所以后续bin log备份恢复时，数据不一致。
	-
- Step
	- redo log在写入后，进入prepare状态
	- 执行器写入bin log
	- 进入commit状态，事务可以提交。
		- 提交指的是 数据刷盘
-